var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},t={},n=o.parcelRequire8462;null==n&&((n=function(o){if(o in e)return e[o].exports;if(o in t){var n=t[o];delete t[o];var s={id:o,exports:{}};return e[o]=s,n.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(o,e){t[o]=e},o.parcelRequire8462=n),n("lXnOV"),n("kM5jX"),(()=>{const o={openModalBtn:document.querySelector("[btn-modal-open]"),closeModalBtn:document.querySelector("[close-btn]"),modal:document.querySelector("[data-modal]")};function e(){o.modal.classList.toggle("is-hidden")}o.openModalBtn.addEventListener("click",e),o.closeModalBtn.addEventListener("click",e)})();const s=document.querySelector(".random-book"),a=s.querySelector("#ran-cover"),r=s.querySelector("#ran-title"),l=s.querySelector("#ran-author");s.querySelector("#ran-book-description");async function c(){try{const o=await fetch("https://books-backend.p.goit.global/books/top-books");if(o.ok){const e=await o.json(),t=e[Math.floor(Math.random()*e.length)];!function(o){const e=document.getElementById("book"),t=e.querySelector("#book-cover"),n=e.querySelector("#book-title"),s=e.querySelector("#book-author"),a=e.querySelector("#book-description"),r=e.querySelector("#book-buy-link");t.src=o.book_image,n.textContent="Tytuł: "+o.title,s.textContent="Autor: "+o.author,a.textContent="Opis: "+o.description,r.href=o.amazon_product_url,r.textContent="Kup teraz"}(t.books[Math.floor(Math.random()*t.books.length)])}else console.error("Wystąpił błąd podczas pobierania danych z API.")}catch(o){console.error("Wystąpił błąd:",o)}}!async function(){try{const o=await fetch("https://books-backend.p.goit.global/books/top-books");if(o.ok){const e=await o.json(),t=e[Math.floor(Math.random()*e.length)],n=t.books[Math.floor(Math.random()*t.books.length)];a.src=n.book_image,r.textContent="Tytuł: "+n.title,l.textContent="Autor: "+n.author,console.log(n)}else console.error("Wystąpił błąd podczas pobierania danych z API.")}catch(o){console.error("Wystąpił błąd:",o)}}();document.querySelectorAll(".random-book").forEach((o=>{o.addEventListener("click",(function(){c()}))})),n("a7nVE"),n("3dMYq");var i=n("lXnOV");const d=document.querySelector(".books__categories ul"),u=document.querySelector(".books__header"),b=document.querySelector(".books__list");let k,p;const _=o=>{const e=o.split(" "),t=e.pop(),n=e.join(" ");u.innerHTML=`${n} \n        <span class="books__header--color">\n\n        ${t}</span>`},g=o=>{var e;e=o,k&&k.classList.remove("change-category-color"),e.classList.add("change-category-color"),k=e,"All categories"===o.innerHTML?(p=i.topBooks,(0,i.getBooksApi)(p).then((o=>{console.log(o.data),console.log(window.screen.width),window.screen.width<=768?f(o.data,1):window.screen.width<=1440?f(o.data,3):f(o.data,5)}))):h(o.innerHTML)};d.addEventListener("click",(()=>g(event.target))),(0,i.getBooksApi)(i.categoryList).then((o=>m(o.data))).catch((o=>{console.log(o)}));const m=o=>{o.forEach((o=>{const e=document.createElement("li");d.append(e),e.classList.add("books__categories--item"),e.innerHTML=`${o.list_name}`})),d.addEventListener("click",(()=>g(event.target)))},h=o=>{p=`category?category=${o}`,(0,i.getBooksApi)(p).then((o=>y(o)))},y=o=>{_(o.data[0].list_name),b.innerHTML="",o.data.forEach((o=>{const e=document.createElement("li");b.append(e),e.innerHTML=`\n        <div class='books__list--card'><img src="${o.book_image}" class='books__list--image'/>\n        <div class='books__list--description'>\n        <span class='books__list--title'>${o.title}</span>\n        <br/>\n        <span class='books__list--author'>${o.author}</span>\n        </div>\n        </div>`}))};g(d.firstElementChild);const f=(o,e)=>{_("Best Sellers Books"),b.innerHTML="";for(const t of o){const o=document.createElement("div");b.append(o),o.classList.add("books__list--category"),o.insertAdjacentHTML("beforeend",`<span class="books__list--category-name">${t.list_name}</span><ul class="books__list--category-set"></ul><div class'books__list--category-see-more'><button class='see-more-btn'>see more</button></div>`),console.log(t.list_name);let n=t.books.slice(0,e);console.log(e),console.log(n);for(const o of n){let e=document.querySelectorAll(".books__list--category-set");e[e.length-1].insertAdjacentHTML("beforeend",`<li class="books__list--element-info"><img data-mainId='${o._id}' class='books__list--image' src="${o.book_image}"/><div class="books__list--element-description"><span data-mainId='${o._id}' class="books__list--title">${o.title}</span><br/><span class="books__list--author">${o.author}</span></div></li>`)}}};document.addEventListener("click",(function(o){const e=o.target.closest(".see-more-btn");if(e){const o=e.parentNode.parentNode.firstElementChild.innerHTML;h(o)}}));document.querySelector(".books__list").addEventListener("click",(o=>{if(o.target.classList.contains("books__list--image")||o.target.classList.contains("books__list--title")){const e=o.target.dataset.mainid;console.log(e)}}));
//# sourceMappingURL=index.03b880f7.js.map
