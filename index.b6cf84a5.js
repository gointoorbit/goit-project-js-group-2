function o(o){return o&&o.__esModule?o.default:o}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},t=s.parcelRequire8462;null==t&&((t=function(o){if(o in e)return e[o].exports;if(o in n){var s=n[o];delete n[o];var t={id:o,exports:{}};return e[o]=t,s.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(o,s){n[o]=s},s.parcelRequire8462=t),t("ifJdc").register(JSON.parse('{"eFRlh":"index.b6cf84a5.js","8yB8n":"amazon-light-mode.2bed2965.svg","1S3Rj":"apple-books.1507f0a5.svg","bSbOs":"shopping-list.7055951e.css","jwZMh":"index.653624fd.js"}')),t("lXnOV"),t("kM5jX"),t("b374K");var a,l=t("lXnOV");a=new URL(t("ifJdc").resolve("8yB8n"),import.meta.url).toString();var i;i=new URL(t("ifJdc").resolve("1S3Rj"),import.meta.url).toString();const c=document.querySelector(".modal-card"),d=document.querySelector(".books__list"),r=s=>{(0,l.getBooksApi)(s).then((s=>(s=>{const{_id:e,book_image:n,title:t,description:l,author:d,buy_links:r}=s,_=`<div class="modal-card__backdrop">\n    <div class="modal-card__box">\n      <div class="modal-card__close">\n        <button type="button" class="modal-card__close-box"></button>\n      </div>\n      <div class="modal-card__img-box">\n        <img\n          src="${n}"\n          alt="Book\n        cover"\n          class="modal-card__img"\n        />\n      </div>\n      <div class="modal-card__info">\n        <div class="modal-card__info-body">\n          <h2 class="modal-card__title">${t}</h2>\n          <h3 class="modal-card__author">${d}</h3>\n          <p class="modal-card__description">${l}</p>\n        </div>\n        <div class="modal-card__shops">\n          <ul class="shops-list modal">\n            <li class="shops-list__item modal">\n              <a\n                href="${r[0].url}"\n                target="_blank"\n                rel="nofollow noopener noreferrer"\n                class="shops-list__link modal"\n                ><div class="shops-list__icon-box shops-list__icon-box--amazon modal">\n                  <img\n                    src="${o(a)}"\n                    alt="Amazon logo"\n                    class="shops-list__icon-img-amazon modal"\n                  /></div\n              ></a>\n            </li>\n            <li class="shops-list__item modal">\n              <a\n                href="${r[1].url}"\n                target="_blank"\n                rel="nofollow noopener noreferrer"\n                class="shops-list__link modal"\n                ><div class="shops-list__icon-box shops-list__icon-box--apple modal">\n                  <img\n                    src="${o(i)}"\n                    alt="Apple Books logo"\n                    class="shops-list__icon-img-apple modal"\n                  /></div\n              ></a>\n            </li>\n          </ul>\n        </div>\n        <div class="button-shopping">\n          <button class="button-shopping__content" data-modalid="${e}">add to shopping list</button>\n        </div>\n        <div class="modal-card__congrats">\n          <p class="modal-card__congrats-text">\n            Congratulations! You have added the book to the shopping list. To delete, press the\n            button "Remove from the shopping list".\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>`;c.insertAdjacentHTML("beforeend",_),document.querySelector(".modal-card__close-box").addEventListener("click",(()=>{c.innerHTML=""}))})(s.data))).catch((o=>{console.log(o)}))};d.addEventListener("click",(o=>{if(o.target.classList.contains("books__list--image")||o.target.classList.contains("books__list--title")){const s=o.target.dataset.mainid;console.log(s),r(s)}})),t("a7nVE"),t("3dMYq");l=t("lXnOV");const _=document.querySelector(".books__categories ul"),m=document.querySelector(".books__header"),p=document.querySelector(".books__list");let g,b;const u=o=>{const s=o.split(" "),e=s.pop(),n=s.join(" ");m.innerHTML=`${n} \n        <span class="books__header--color">\n\n        ${e}</span>`},h=o=>{var s;s=o,g&&g.classList.remove("change-category-color"),s.classList.add("change-category-color"),g=s,"All categories"===o.innerHTML?(b=l.topBooks,(0,l.getBooksApi)(b).then((o=>{console.log(o.data),console.log(window.screen.width),window.screen.width<=768?L(o.data,1):window.screen.width<=1440?L(o.data,3):L(o.data,5)}))):k(o.innerHTML)};_.addEventListener("click",(()=>h(event.target))),(0,l.getBooksApi)(l.categoryList).then((o=>v(o.data))).catch((o=>{console.log(o)}));const v=o=>{o.forEach((o=>{const s=document.createElement("li");_.append(s),s.classList.add("books__categories--item"),s.innerHTML=`${o.list_name}`})),_.addEventListener("click",(()=>h(event.target)))},k=o=>{b=`category?category=${o}`,(0,l.getBooksApi)(b).then((o=>f(o)))},f=o=>{u(o.data[0].list_name),p.innerHTML="",o.data.forEach((o=>{const s=document.createElement("li");p.append(s),s.innerHTML=`\n        <div class='books__list--card'><img src="${o.book_image}" class='books__list--image'/>\n        <div class='books__list--description'>\n        <span class='books__list--title'>${o.title}</span>\n        <br/>\n        <span class='books__list--author'>${o.author}</span>\n        </div>\n        </div>`}))};h(_.firstElementChild);const L=(o,s)=>{u("Best Sellers Books"),p.innerHTML="";for(const e of o){const o=document.createElement("div");p.append(o),o.classList.add("books__list--category"),o.insertAdjacentHTML("beforeend",`<span class="books__list--category-name">${e.list_name}</span><ul class="books__list--category-set"></ul><div class'books__list--category-see-more'><button class='see-more-btn'>see more</button></div>`),console.log(e.list_name);let n=e.books.slice(0,s);console.log(s),console.log(n);for(const o of n){let s=document.querySelectorAll(".books__list--category-set");s[s.length-1].insertAdjacentHTML("beforeend",`<li class="books__list--element-info"><img data-mainId='${o._id}' class='books__list--image' src="${o.book_image}"/><div class="books__list--element-description"><span data-mainId='${o._id}' class="books__list--title">${o.title}</span><br/><span class="books__list--author">${o.author}</span></div></li>`)}}};document.addEventListener("click",(function(o){const s=o.target.closest(".see-more-btn");if(s){const o=s.parentNode.parentNode.firstElementChild.innerHTML;k(o)}}));document.querySelector(".books__list").addEventListener("click",(o=>{if(o.target.classList.contains("books__list--image")||o.target.classList.contains("books__list--title")){const s=o.target.dataset.mainid;console.log(s)}}));
//# sourceMappingURL=index.b6cf84a5.js.map
