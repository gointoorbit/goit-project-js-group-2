function e(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},n=o.parcelRequire8462;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in s){var o=s[e];delete s[e];var n={id:e,exports:{}};return t[e]=n,o.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,o){s[e]=o},o.parcelRequire8462=n),n("ifJdc").register(JSON.parse('{"eFRlh":"index.d12bc9a0.js","8yB8n":"amazon-light-mode.2bed2965.svg","1S3Rj":"apple-books.1507f0a5.svg","bSbOs":"shopping-list.31c16e99.css","8H24j":"index.f1acfd29.js"}')),n("lXnOV"),n("kM5jX");var a,i=n("7IoHk"),l=n("b374K"),d=n("lXnOV");a=new URL(n("ifJdc").resolve("8yB8n"),import.meta.url).toString();var r;r=new URL(n("ifJdc").resolve("1S3Rj"),import.meta.url).toString();const c=document.querySelector(".modal-card"),_=document.querySelector(".books__list"),m=document.querySelector(".loader--modal");let p=l.load("myBooksId")||[],v=document.querySelector(".modal-card__close-box")||null;m.style.display="none";const u=()=>{c.innerHTML="",v.removeEventListener("click",u),window.removeEventListener("keydown",g),window.removeEventListener("click",b)},g=e=>{"Escape"===e.key&&(c.innerHTML="",window.removeEventListener("keydown",g),v.removeEventListener("click",u),window.removeEventListener("click",b))},b=e=>{e.target.classList.contains("modal-card__backdrop")&&(c.innerHTML="",window.removeEventListener("click",b),window.removeEventListener("keydown",g),v.removeEventListener("click",u))},k=e=>{const o=e.target.dataset.modalid;p=l.load("myBooksId")||[];const t=document.querySelector(".button-shopping__content"),s=document.querySelector(".modal-card__congrats"),n=document.querySelector(".modal-card__img-box");if(-1===p.indexOf(o))return p.push(o),l.save("myBooksId",p),n.classList.add("animate-add-to-cart"),t.textContent="Remove from the shopping list",s.style.display="inline",void n.addEventListener("animationend",(()=>{n.classList.remove("animate-add-to-cart")}));if(-1!==p.indexOf(o)){const e=p.indexOf(o);return p.splice(e,1),l.save("myBooksId",p),n.classList.add("animate-remove-from-cart"),t.textContent="Add to shopping list",s.style.display="none",void n.addEventListener("animationend",(()=>{n.classList.remove("animate-remove-from-cart")}))}},y=o=>{const{_id:t,book_image:s,title:n,description:i,author:d,buy_links:_}=o,m=`<div class="modal-card__backdrop loading-gentle">\n  <div class="modal-card__box">\n    <div class="modal-card__close">\n      <button type="button" class="modal-card__close-box"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="#111111">\n      <path d="M21 7L7 21M7 7L21 21" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n    </button>\n    </div>\n    <div class="modal-card__body">\n      <div class="modal-card__img-box loading-gentle">\n        <img src="${s}" alt="Book\n        cover" class="modal-card__img" />\n      </div>\n      <div class="modal-card__info">\n        <div class="modal-card__info-body">\n          <h2 class="modal-card__title">${n}</h2>\n          <h3 class="modal-card__author">${d}</h3>\n          <p class="modal-card__description">${i}</p>\n        </div>\n        <div class="modal-card__shops">\n          <ul class="shops-list modal">\n            <li class="shops-list__item modal">\n              <a href="${_[0].url}" target="_blank" rel="nofollow noopener noreferrer" class="shops-list__link modal">\n                <div class="shops-list__icon-box shops-list__icon-box--amazon modal">\n                  <img src="${e(a)}" alt="Amazon logo" class="shops-list__icon-img-amazon modal" />\n                </div>\n              </a>\n            </li>\n            <li class="shops-list__item modal">\n              <a href="${_[1].url}" target="_blank" rel="nofollow noopener noreferrer" class="shops-list__link modal">\n                <div class="shops-list__icon-box shops-list__icon-box--apple modal">\n                  <img src="${e(r)}" alt="Apple Books logo" class="shops-list__icon-img-apple modal" />\n                </div>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n    <div class="modal-card__footer">\n      <div class="button-shopping">\n        <button class="button-shopping__content" data-modalid="${t}">add to shopping list</button>\n      </div>\n      <div class="modal-card__congrats">\n        <p class="modal-card__congrats-text">\n          Congratulations! You have added the book to the shopping list. To delete, press the\n          button "Remove from the shopping list".\n        </p>\n      </div>\n    </div>\n  </div>\n</div>`;c.insertAdjacentHTML("beforeend",m),v=document.querySelector(".modal-card__close-box"),v.addEventListener("click",u),window.addEventListener("keydown",g),window.addEventListener("click",b),(e=>{const o=document.querySelector(".button-shopping__content"),t=document.querySelector(".modal-card__congrats");p=l.load("myBooksId")||[],-1===p.indexOf(e)?(o.textContent="Add to shopping list",t.style.display="none"):-1!==p.indexOf(e)&&(o.textContent="Remove from the shopping list",t.style.display="inline")})(t);document.querySelector(".button-shopping__content").addEventListener("click",k)};_.addEventListener("click",(o=>{if(o.target.classList.contains("books__list--image")||o.target.classList.contains("books__list--title")||o.target.classList.contains("books__list--overlay")||o.target.classList.contains("books__list--overlay-text")){const s=o.target.dataset.mainid;c.innerHTML="",t=s,m.style.display="block",(0,d.getBooksApi)(t).then((e=>(m.style.display="none",y(e.data)))).catch((o=>{e(i).Notify.failure("Ooops... Something went wrong! Please, try again.")}))}var t})),n("a7nVE"),n("3dMYq");d=n("lXnOV");var h=n("IsBYg");const f=document.querySelector(".categories__list ul"),w=document.querySelector(".books__header"),L=document.querySelector(".books__list"),x=document.querySelector(".loader--books-list");let E,H,S;const $=e=>{E&&E.classList.remove("change-category-color"),e.classList.add("change-category-color"),E=e},M=e=>{const o=e.split(" "),t=o.pop(),s=o.join(" ");w.innerHTML=`${s} \n        <span class="books__header--color">\n\n        ${t}</span>`};(async()=>{const e=await(0,d.getBooksApi)(d.categoryList);q(e.data)})();const q=e=>{e.forEach((e=>{const o=document.createElement("li");f.append(o),o.classList.add("categories__item"),o.innerHTML=`${e.list_name}`})),f.addEventListener("click",(()=>B(event.target)))},T=()=>(L.innerHTML="",window.matchMedia("(max-width: 767px)").matches?R(S,1):window.matchMedia("(max-width: 1439px)").matches?R(S,3):R(S,5)),B=e=>{L.innerHTML="",$(e),"All categories"===e.innerHTML?(O(),window.addEventListener("resize",T)):(window.removeEventListener("resize",T),A(e.innerHTML))},A=async e=>{L.innerHTML="",x.style.display="block";for(const o of f.children)o.innerHTML===e&&$(o);H=`category?category=${e}`;const o=await(0,d.getBooksApi)(H);return x.style.display="none",I(o)},I=e=>{M(e.data[0].list_name),e.data.forEach((e=>{const o=document.createElement("li");L.append(o),o.innerHTML=`\n        <div class="books__list--card"><div class='books__list--box'><div data-mainId='${e._id}' class='books__list--overlay'><span data-mainId='${e._id}' class='books__list--overlay-text'>quick view</span></div><img data-mainId="${e._id}" src="${e.book_image}" class="books__list--image"/></div>\n        <div class="books__list--description">\n        <span data-mainId="${e._id}" class="books__list--title">${e.title}</span>\n        <br/>\n        <span class="books__list--author">${e.author}</span>\n        </div>\n        </div>`}))},O=async()=>{x.style.display="block",$(f.firstElementChild);const e=await(0,d.getBooksApi)(d.topBooks);return S=e.data,x.style.display="none",T(),S},R=(e,o)=>{M("Best Sellers Books");for(const t of e){const e=document.createElement("li");L.append(e),e.classList.add("books__list--category"),e.insertAdjacentHTML("beforeend",`<span class="books__list--category-name">${t.list_name}</span><ul class="books__list--category-set"></ul><div class='books__list--category-see-more'><button onclick="window.location.href='#gototitle'" class='see-more-btn'>see more</button></div>`);let s=t.books.slice(0,o);for(const e of s){let o=document.querySelectorAll(".books__list--category-set");o[o.length-1].insertAdjacentHTML("beforeend",`<li class="books__list--element-info"><div class='books__list--box'><div data-mainId='${e._id}' class='books__list--overlay'><span data-mainId='${e._id}' class='books__list--overlay-text'>quick view</span></div><img data-mainId="${e._id}" class="books__list--image" src="${e.book_image}"/></div><div class="books__list--element-description"><span data-mainId="${e._id}" class="books__list--title">${e.title}</span><br/><span class="books__list--author">${e.author}</span></div></li>`)}}};B(f.firstElementChild),document.addEventListener("click",(function(e){const o=e.target.closest(".see-more-btn");if(o){const e=o.parentNode.parentNode.firstElementChild.innerHTML;window.removeEventListener("resize",T),A(e)}(0,h.updateBookCount)()})),n("9Sazl"),n("IsBYg"),n("fHUOQ");
//# sourceMappingURL=index.d12bc9a0.js.map
