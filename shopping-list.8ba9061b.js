var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},t=e.parcelRequire8462;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){s[e]=n},e.parcelRequire8462=t),t("lXnOV"),t("kM5jX");const o=(e,n)=>{try{const s=JSON.stringify(n);localStorage.setItem(e,s)}catch(e){console.error("Set state error: ",e.message)}};var i=t("lXnOV");o("test-Ids",["643282b1e85766588626a0dc","643282b1e85766588626a0ba","643282b1e85766588626a0b8","643282b1e85766588626a0c2","643282b1e85766588626a0be","643282b2e85766588626a110"]);let l=[];const a=document.querySelector(".cards-list"),r=document.querySelector(".shopping-empty");r.style.display="none";const c=e=>{e.forEach((e=>{(0,i.getBooksApi)(e).then((e=>(e=>{const{_id:n,book_image:s,title:t,list_name:o,description:i,author:l,buy_links:r}=e,c=`<li class="card-item">\n        <div class="card-item__box">\n          <div class="remove-button">\n            <button type="button" class="remove-button__box" data-id="${n}">\n            </button>\n          </div>\n          <div class="card-item__img-box">\n            <img\n              src="${s}"\n              alt="Book cover"\n              class="card-item__img"\n            />\n          </div>\n          <div class="card-item__info">\n            <div class="card-item__info-body">\n              <h2 class="card-item__title">${t}</h2>\n              <h3 class="card-item__category">${o}</h3>\n              <p class="card-item__description">\n              ${i}\n              </p>\n            </div>\n            <div class="card-item__info-footer">\n              <div class="card-item__author-box">\n                <p class="card-item__author">${l}</p>\n              </div>\n              <div class="card-item__shops">\n                <ul class="shops-list">\n                  <li class="shops-list__item">\n                    <a\n                      href="${r[0].url}"\n                      target="_blank"\n                      rel="nofollow noopener noreferrer"\n                      class="shops-list__link"\n                      ><div class="shops-list__icon-box shops-list__icon-box--amazon">\n                        <img\n                          src="./images/amazon-light-mode.svg"\n                          alt="Amazon logo"\n                          class="shops-list__icon-img-amazon"\n                        /></div\n                    ></a>\n                  </li>\n                  <li class="shops-list__item">\n                    <a\n                      href="${r[1].url}"\n                      target="_blank"\n                      rel="nofollow noopener noreferrer"\n                      class="shops-list__link"\n                      ><div class="shops-list__icon-box shops-list__icon-box--apple">\n                        <img\n                          src="./images/apple-books.svg"\n                          alt="Apple Books logo"\n                          class="shops-list__icon-img-apple"\n                        /></div\n                    ></a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>`;a.insertAdjacentHTML("beforeend",c)})(e.data))).catch((e=>{console.log(e)}))}))};window.addEventListener("load",(()=>{if(a.innerHTML="",l=(e=>{try{const n=localStorage.getItem(e);return null===n?void 0:JSON.parse(n)}catch(e){console.error("Get state error: ",e.message)}})("test-Ids"),0===l.length)return r.style.display="flex",void a.removeEventListener("click",d);c(l),a.addEventListener("click",d)}));const d=e=>{if(!e.target.classList.contains("remove-button__box"))return;(e=>{const n=l.indexOf(e);if(l.splice(n,1),o("test-Ids",l),a.innerHTML="",0===l.length)return r.style.display="flex",void a.removeEventListener("click",d);c(l)})(e.target.dataset.id)};t("a7nVE"),t("3dMYq");
//# sourceMappingURL=shopping-list.8ba9061b.js.map
